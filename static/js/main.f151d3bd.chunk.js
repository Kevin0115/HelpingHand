(this.webpackJsonpweb_client=this.webpackJsonpweb_client||[]).push([[0],{37:function(e,t,a){},65:function(e,t,a){e.exports=a(85)},70:function(e,t,a){},78:function(e,t,a){},83:function(e,t,a){e.exports=a.p+"static/media/logo.46cae660.png"},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),c=a.n(r),i=(a(70),a(8)),s=a(9),o=a(11),u=a(10),h=a(12),m=a(28),d=a(22),p=a(92),b=a(91),E=a(57),v=a.n(E),f="http://localhost:8080/",g=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(v.a,{value:"https://kevinchoi.dev/HelpingHand/#/receiver/"+this.props.rid})}}]),t}(l.a.Component),C=(a(37),a(78),a(87)),y=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"main"},l.a.createElement("h2",null,"I am a..."),l.a.createElement(C.a,{className:"nav-button",variant:"primary",size:"lg",as:m.b,to:"/donate/"+this.props.rid},"Giver"),l.a.createElement(C.a,{className:"nav-button",variant:"primary",size:"lg",as:m.b,to:"/merchant/"+this.props.rid},"Merchant"))}}]),t}(l.a.Component),j=a(31),O=a(16),k=a(93),N=a(90),w=a(61),S=a(88),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={balance:null,amount:0,mid:null,showAlert:!1},a.handleChange=a.handleChange.bind(Object(O.a)(a)),a.handlePurchase=a.handlePurchase.bind(Object(O.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchBalance()}},{key:"fetchBalance",value:function(){var e=this;fetch(f+"receiver/"+this.props.rid,{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({balance:t.content.balance})})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(j.a)({},e.target.name,e.target.value))}},{key:"renderFinal",value:function(){var e=this.state.balance-this.state.amount;return e<0?"Insufficient Funds.":parseFloat(e).toFixed(2)}},{key:"handlePurchase",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.mid,l=a.amount,r=this.props.rid;fetch(f+"transaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:l,rid:r,mid:n})}).then((function(e){return e.json()})).then((function(e){t.fetchBalance(),e.success&&t.alert(),t.clearForm()})).catch((function(e){console.log(e)}))}},{key:"clearForm",value:function(){this.setState({mid:null,amount:0})}},{key:"alert",value:function(){var e=this;this.setState({showAlert:!0}),setTimeout((function(){return e.setState({showAlert:!1})}),5e3)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"merchant"},l.a.createElement("h5",null,"Checkout"),l.a.createElement(k.a,{className:"card"},l.a.createElement(k.a.Header,{className:"card-title"},"Transaction Details"),l.a.createElement(k.a.Body,{className:"card-body"},l.a.createElement(k.a.Text,null,"Current Balance: ",this.state.balance),l.a.createElement("div",{className:"amount"},l.a.createElement(k.a.Text,null,"Cost: "),l.a.createElement(N.a,{inline:!0},l.a.createElement(w.a,{type:"number",name:"amount",placeholder:"Amount ($)",className:"input",onChange:this.handleChange}))),l.a.createElement("div",{className:"merchant-input"},l.a.createElement(k.a.Text,null,"Merchant ID: "),l.a.createElement(N.a,{inline:!0},l.a.createElement(w.a,{type:"text",name:"mid",placeholder:"111111",className:"input",onChange:this.handleChange}))),l.a.createElement(k.a.Text,null,"Final Balance: ",this.renderFinal()),l.a.createElement(C.a,{variant:"success",onClick:this.handlePurchase,disabled:null==this.state.amount||this.state.amount<=0||this.state.balance<this.state.amount},"Submit"))),l.a.createElement(S.a,{className:"alert",show:this.state.showAlert,variant:"success",onClose:function(){return e.setState({showAlert:!1})},dismissible:!0},l.a.createElement(S.a.Heading,null,"Success"),l.a.createElement("p",null,"Your purchase has been completed!")))}}]),t}(l.a.Component),x=a(89),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={rid:null,amount:0,showModal:!1,showAlert:!1,name:null,cardNumber:null,expiryDate:null},a.handleClick=a.handleClick.bind(Object(O.a)(a)),a.handleChange=a.handleChange.bind(Object(O.a)(a)),a.handleDonate=a.handleDonate.bind(Object(O.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({rid:this.props.rid})}},{key:"handleClick",value:function(e){e.preventDefault(),this.setState({amount:e.target.value})}},{key:"handleChange",value:function(e){this.setState(Object(j.a)({},e.target.name,e.target.value))}},{key:"clearForm",value:function(){this.setState({name:null,cardNumber:null,expiryDate:null,amount:0}),this.messageForm.reset()}},{key:"alert",value:function(){var e=this;this.setState({showAlert:!0,showModal:!1}),setTimeout((function(){return e.setState({showAlert:!1})}),5e3)}},{key:"handleDonate",value:function(e){var t=this;e.preventDefault();var a=this.state,n=(a.name,a.cardNumber,a.expiryDate,a.rid),l=a.amount;fetch(f+"donation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:l,rid:n})}).then((function(e){return e.json()})).then((function(e){e.success&&t.alert(),t.clearForm()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"donate"},l.a.createElement("h5",null,"Select a Donation Amount"),l.a.createElement("p",null,"Donations under $1 are not accepted."),l.a.createElement("div",{className:"buttons"},l.a.createElement(C.a,{className:"select-button",variant:"primary",onClick:this.handleClick,value:2},"$2"),l.a.createElement(C.a,{className:"select-button",variant:"primary",onClick:this.handleClick,value:5},"$5"),l.a.createElement(C.a,{className:"select-button",variant:"primary",onClick:this.handleClick,value:10},"$10"),l.a.createElement(C.a,{className:"select-button",variant:"primary",onClick:this.handleClick,value:20},"$20"),l.a.createElement(N.a,{inline:!0},l.a.createElement(w.a,{type:"number",name:"amount",placeholder:"Custom",className:"mr-sm-2",onChange:this.handleChange}))),l.a.createElement("h6",null,"Amount: $",this.state.amount),l.a.createElement(C.a,{className:"proceed",size:"lg",variant:"success",onClick:function(){return e.setState({showModal:!0})},disabled:this.state.amount<1},"Proceed"),l.a.createElement(x.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})}},l.a.createElement(x.a.Header,null,l.a.createElement(x.a.Title,null,"Payment")),l.a.createElement(x.a.Body,null,l.a.createElement("p",null,"Please enter your credit card information."),l.a.createElement("form",{className:"form",ref:function(t){return e.messageForm=t},onSubmit:this.handleSubmit},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Name"),l.a.createElement(N.a.Control,{type:"text",name:"name",onChange:this.handleChange,placeholder:"John Appleseed"})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Credit Card Number"),l.a.createElement(N.a.Control,{type:"number",name:"cardNumber",onChange:this.handleChange,placeholder:"4800888800008888"})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Expiration Date"),l.a.createElement(N.a.Control,{type:"date",name:"expiryDate",onChange:this.handleChange,placeholder:"2020-02-02"})))),l.a.createElement(x.a.Footer,null,l.a.createElement(C.a,{variant:"secondary",onClick:function(){return e.setState({showModal:!1})}},"Cancel"),l.a.createElement(C.a,{variant:"success",onClick:this.handleDonate,disabled:null==this.state.name||null==this.state.cardNumber||null==this.state.expiryDate},"Donate"))),l.a.createElement(S.a,{className:"alert",show:this.state.showAlert,variant:"success",onClose:function(){return e.setState({showAlert:!1})},dismissible:!0},l.a.createElement(S.a.Heading,null,"Success"),l.a.createElement("p",null,"Your donation has been accepted!")))}}]),t}(l.a.Component),T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={name:null,pin:null,question:null,answer:null,rid:null},a.handleChange=a.handleChange.bind(Object(O.a)(a)),a.handleRegister=a.handleRegister.bind(Object(O.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(j.a)({},e.target.name,e.target.value))}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.name,l=a.pin,r=a.question,c=a.answer;fetch(f+"receiver",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uname:n,pin:l,question:r,answer:c})}).then((function(e){return e.json()})).then((function(e){t.setState({rid:e.content})})).catch((function(e){console.log(e)}))}},{key:"renderQR",value:function(){return null==this.state.rid?null:l.a.createElement("div",{className:"qr"},l.a.createElement(g,{rid:this.state.rid}),l.a.createElement("p",null,"Print this and give to Receiver."))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"register"},l.a.createElement("h5",null,"Register new Receiver"),l.a.createElement("form",{className:"form",ref:function(t){return e.messageForm=t},onSubmit:this.handleSubmit},l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Name"),l.a.createElement(N.a.Control,{type:"text",name:"name",onChange:this.handleChange,placeholder:"John Appleseed"})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"PIN"),l.a.createElement(N.a.Control,{type:"number",name:"pin",onChange:this.handleChange,placeholder:"1234"})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Security Question (optional)"),l.a.createElement(N.a.Control,{type:"text",name:"question",onChange:this.handleChange,placeholder:""})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Security Answer (optional)"),l.a.createElement(N.a.Control,{type:"text",name:"answer",onChange:this.handleChange,placeholder:""}))),l.a.createElement(C.a,{variant:"success",onClick:this.handleRegister,disabled:null==this.state.name||null==this.state.pin},"Register"),this.renderQR())}}]),t}(l.a.Component);function F(){var e=Object(d.f)(),t=e.rid;switch(e.user){case"donate":return l.a.createElement(A,{rid:t});case"merchant":return l.a.createElement(D,{rid:t});default:return l.a.createElement(y,{rid:t})}}var P=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement(p.a,{bg:"dark",variant:"dark"},l.a.createElement(p.a.Brand,null,l.a.createElement("img",{src:a(83),width:"30",height:"30",className:"d-inline-block align-top",alt:" "})," Helping Hand "),l.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(p.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end"},l.a.createElement(b.a.Link,{href:"/HelpingHand/#/register"},"Register"))),l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/"},l.a.createElement(F,null)),l.a.createElement(d.a,{path:"/register"},l.a.createElement(T,null)),l.a.createElement(d.a,{path:"/:user/:rid"},l.a.createElement(F,null))))}}]),t}(l.a.Component),H=(a(84),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(P,null)}}]),t}(l.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[65,1,2]]]);
//# sourceMappingURL=main.f151d3bd.chunk.js.map